{"version":3,"sources":["components/App.js","components/LoginForm.js","components/UserArea.js","components/PointsArea.js","components/RewardsArea.js","components/OrdersArea.js","components/ClientArea.js","serviceWorker.js","index.js"],"names":["this_","LoginForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","username","password","handleChange","bind","assertThisInitialized","handleSubmit","event","setState","defineProperty","target","name","value","preventDefault","login_handler","classes","react_default","a","createElement","CssBaseline_default","className","layout","Paper_default","paper","Typography_default","component","variant","form","onSubmit","FormControl_default","margin","required","fullWidth","InputLabel_default","htmlFor","Input_default","id","autoComplete","onChange","autoFocus","type","Button_default","color","submit","React","Component","withStyles","theme","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","marginTop","flexDirection","alignItems","padding","concat","UserArea","addAmount","reward_id","vip_id","add","subtract","handleManualScan","handleManualClaim","handleVIP","handleVIPadd","handleVIPdelete","data","vip","console","log","_this$props","token","scanData","user_id","userDetails","amount","_this$props2","claimData","vipData","_this2","_this$props3","clientData","_this$state","timestamp","Date","created","Intl","DateTimeFormat","year","month","day","format","locations","AppBar_default","position","Toolbar_default","flexBox","flexItem","marginSides","gutterBottom","points","redeemed_count","cardWrapper","Card_default","card","details","CardContent_default","content","current_points","controls","IconButton_default","onClick","TextField_default","e","textField","disabled","button","clientRewards","length","Select_default","inputProps","inputBase","MenuItem_default","map","reward","key","dangerouslySetInnerHTML","__html","reward_name","reward_points","vips","discount","borderWidth","borderColor","borderRadius","borderStyle","fontSize","fontWeight","background","flexGrow","textAlign","flexWrap","flex","marginBottom","& input","PointsArea","quantity","location_token","unique","location","getQR","downloadQRBase","displayQR","title","code","qrWrapper","dist_default","size","logo","client_icon","& canvas","height","minWidth","maxWidth","RewardsArea","rewardData","OrdersArea","initialState","locationsOpen","selectedLocation","userApiKey","showArea","ClientArea","handleClose","handleOpen","clearLocation","handleLogout","handleScan","showThisArea","localStorage","getItem","parseInt","setItem","area","handleGetUser","err","error","locationObj","filter","scanUserQR","client_mode","seeOrders","cart_email","scanRewardQR","merchantPage","merchantPageData","alwaysShowMerchantPage","icon","includes","actuallyShowThisArea","userData","client_css","formControl","open","onClose","onOpen","instructions","loc","location_name","Tooltip_default","aria-label","leftBar","selectedButton","fullscreen","ButtonBase_default","focusRipple","focusVisibleClassName","focusVisible","buttonBase","largeIcon","css","page","lib_default","delay","onError","handleError","onScan","qrScanner","components_PointsArea","components_RewardsArea","components_OrdersArea","components_UserArea","opacity","& section","paddingTop","& .fa-lg","verticalAlign","& i","minHeight","boxSizing","apiBase","apiKey","adminData","snackbarOpen","snackbarMessage","snackbarClass","App","showSnackbar","hideSnackbar","adminLogin","apiLogin","getClient","getUser","getRewards","getMerchantPage","message","style","removeItem","api_key","fetch","method","headers","Content-Type","body","xwwwfurlenc","then","response","json","client_id","Authorization","Tbapikey","client","rewards","pages","srcjson","u","encodeURIComponent","urljson","keys","i","Snackbar_default","anchorOrigin","vertical","horizontal","components_ClientArea","src","components_LoginForm","Boolean","window","hostname","match","startApp","ReactDOM","render","components_App","document","getElementById","cordova","addEventListener","navigator","serviceWorker","ready","registration","unregister"],"mappings":"iKAaIA,yPC6BEC,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CACXC,SAAU,GACVC,SAAU,IAGZT,EAAKU,aAAeV,EAAKU,aAAaC,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACpBA,EAAKa,aAAeb,EAAKa,aAAaF,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KARHA,4EAWNc,GACXX,KAAKY,SAALd,OAAAe,EAAA,EAAAf,CAAA,GAAgBa,EAAMG,OAAOC,KAAOJ,EAAMG,OAAOE,6CAGtCL,GACXA,EAAMM,iBACNjB,KAAKJ,MAAMsB,cAAclB,KAAKI,wCAGvB,IACAe,EAAWnB,KAAKJ,MAAhBuB,QAEP,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAAF,EAAD,MACAD,EAAAC,EAAAC,cAAA,QAAME,UAAWL,EAAQM,QACvBL,EAAAC,EAAAC,cAACI,EAAAL,EAAD,CAAOG,UAAWL,EAAQQ,OACxBP,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYQ,UAAU,KAAKC,QAAQ,MAAnC,WAGAV,EAAAC,EAAAC,cAAA,QAAME,UAAWL,EAAQY,KAAMC,SAAUhC,KAAKU,cAC5CU,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAaa,OAAO,SAASC,UAAQ,EAACC,WAAS,GAC7ChB,EAAAC,EAAAC,cAACe,EAAAhB,EAAD,CAAYiB,QAAQ,YAApB,6BACAlB,EAAAC,EAAAC,cAACiB,EAAAlB,EAAD,CACEmB,GAAG,WACHzB,KAAK,WACL0B,aAAa,QACbzB,MAAOhB,KAAKI,MAAMC,SAClBqC,SAAU1C,KAAKO,aACfoC,WAAS,KAGbvB,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAaa,OAAO,SAASC,UAAQ,EAACC,WAAS,GAC7ChB,EAAAC,EAAAC,cAACe,EAAAhB,EAAD,CAAYiB,QAAQ,YAApB,YACAlB,EAAAC,EAAAC,cAACiB,EAAAlB,EAAD,CACEN,KAAK,WACL6B,KAAK,WACLJ,GAAG,WACHC,aAAa,mBACbzB,MAAOhB,KAAKI,MAAME,SAClBoC,SAAU1C,KAAKO,gBAGnBa,EAAAC,EAAAC,cAACuB,EAAAxB,EAAD,CACEuB,KAAK,SACLR,WAAS,EACTN,QAAQ,YACRgB,MAAM,UACNtB,UAAWL,EAAQ4B,QALrB,sBAvDUC,IAAMC,WA4EfC,MAxGA,SAAAC,GAAK,MAAK,CACvB1B,OAAO3B,OAAAe,EAAA,EAAAf,CAAA,CACLsD,MAAO,OACPC,QAAS,QACTC,WAAiC,EAArBH,EAAMI,QAAQC,KAC1BC,YAAkC,EAArBN,EAAMI,QAAQC,MAC1BL,EAAMO,YAAYC,GAAG,IAA2B,EAArBR,EAAMI,QAAQC,KAAW,GAAK,CACxDJ,MAAO,IACPE,WAAY,OACZG,YAAa,SAGjB9B,MAAO,CACLiC,UAAWT,EAAMI,QAAQC,KACzBH,QAAS,OACTQ,cAAe,SACfC,WAAY,SACZC,QAAO,GAAAC,OAA0B,EAArBb,EAAMI,QAAQC,KAAnB,OAAAQ,OAAsD,EAArBb,EAAMI,QAAQC,KAA/C,OAAAQ,OAAkF,EAArBb,EAAMI,QAAQC,KAA3E,OAETzB,KAAM,CACJqB,MAAO,OACPQ,UAAWT,EAAMI,QAAQC,MAE3BT,OAAQ,CACNa,UAAgC,EAArBT,EAAMI,QAAQC,QAgFdN,CAAmBvD,oMCnC5BsE,eACJ,SAAAA,EAAYrE,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiE,IACjBpE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmE,GAAA9D,KAAAH,KAAMJ,KACDQ,MAAQ,CACX8D,UAAW,EACXC,UAAW,GACXC,OAAQ,IAGVvE,EAAKU,aAAeV,EAAKU,aAAaC,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACpBA,EAAKwE,IAAMxE,EAAKwE,IAAI7D,KAATV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACXA,EAAKyE,SAAWzE,EAAKyE,SAAS9D,KAAdV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAChBA,EAAK0E,iBAAmB1E,EAAK0E,iBAAiB/D,KAAtBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACxBA,EAAK2E,kBAAoB3E,EAAK2E,kBAAkBhE,KAAvBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACzBA,EAAK4E,UAAY5E,EAAK4E,UAAUjE,KAAfV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACjBA,EAAK6E,aAAe7E,EAAK6E,aAAalE,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACpBA,EAAK8E,gBAAkB9E,EAAK8E,gBAAgBnE,KAArBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAfNA,mFAmBbG,KAAKJ,MAAMgF,MAAQ5E,KAAKJ,MAAMgF,KAAKC,KAAO7E,KAAKJ,MAAMgF,KAAKC,IAAI,IAChE7E,KAAKY,SAAS,CACZwD,OAAQpE,KAAKJ,MAAMgF,KAAKC,IAAI,GAAGrC,IAAM,0FAQ9B7B,EAAOI,GAClBf,KAAKY,SAALd,OAAAe,EAAA,EAAAf,CAAA,GACGiB,EAAOJ,EAAMG,OAAOE,sCAKvBhB,KAAKY,SAAS,CAAEsD,UAAWlE,KAAKI,MAAM8D,UAAU,GAAK,WACnDY,QAAQC,IAAI/E,KAAKI,4CAKnBJ,KAAKY,SAAS,CAAEsD,UAAWlE,KAAKI,MAAM8D,UAAU,GAAK,WACnDY,QAAQC,IAAI/E,KAAKI,oDAIF,IAAA4E,EACOhF,KAAKJ,MAArBgF,EADSI,EACTJ,KAAMK,EADGD,EACHC,MACNf,EAAclE,KAAKI,MAAnB8D,UAEJgB,EAAW,CACbC,QAASP,EAAKQ,YAAY,GAAG5C,GAC7B6C,OAAQnB,EACRe,MAAOA,GAGTjF,KAAKJ,MAAM2E,iBAAiBW,GAC5BlF,KAAKY,SAAS,CACZsD,UAAW,gDAIK,IAAAoB,EACMtF,KAAKJ,MAArBgF,EADUU,EACVV,KAAMK,EADIK,EACJL,MACNd,EAAcnE,KAAKI,MAAnB+D,UAEJoB,EAAY,CACdJ,QAASP,EAAKQ,YAAY,GAAG5C,GAC7B2B,UAAWA,EACXc,MAAOA,GAGTjF,KAAKJ,MAAM4E,kBAAkBe,GAC7BvF,KAAKY,SAAS,CACZuD,UAAW,yCAME,WADInE,KAAKI,MAAhBgE,OAENpE,KAAK2E,kBAEL3E,KAAK0E,sDAIM,IACLE,EAAS5E,KAAKJ,MAAdgF,KACAR,EAAWpE,KAAKI,MAAhBgE,OAEJoB,EAAU,CACZL,QAASP,EAAKQ,YAAY,GAAG5C,GAC7B4B,OAAQA,GAGVpE,KAAKJ,MAAM8E,aAAac,6CAGR,IACRZ,EAAS5E,KAAKJ,MAAdgF,KACW5E,KAAKI,MAAhBgE,OAERpE,KAAKJ,MAAM+E,gBAAgBC,EAAKQ,YAAY,GAAG5C,qCAGxC,IAAAiD,EAAAzF,KAAA0F,EAC+B1F,KAAKJ,MAAnCuB,EADDuE,EACCvE,QAASyD,EADVc,EACUd,KAAMe,EADhBD,EACgBC,WADhBC,EAEkC5F,KAAKI,MAAtC8D,EAFD0B,EAEC1B,UAAWC,EAFZyB,EAEYzB,UAAWC,EAFvBwB,EAEuBxB,OACxByB,EAAY,IAAIC,KAAiC,IAA5BlB,EAAKQ,YAAY,GAAGW,SACzCA,EAAU,IAAIC,KAAKC,eAAe,QAAS,CAACC,KAAM,UAAWC,MAAO,QAASC,IAAK,YAAYC,OAAOR,GAE3G,OADAf,QAAQC,IAAIY,EAAYA,EAAWW,WAEjClF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACiF,EAAAlF,EAAD,CAAQmF,SAAS,SAAS1D,MAAM,WAC9B1B,EAAAC,EAAAC,cAACmF,EAAApF,EAAD,KACED,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYS,QAAQ,KAAKN,UAAWL,EAAQuF,QAAU,IAAMvF,EAAQwF,UACjE/B,EAAKC,IAAI,IACRzD,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQ0D,KAAMD,EAAKC,IAAI,GAAG9D,MAE3C6D,EAAKQ,YAAY,GAAGrE,MAEvBK,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQuF,SACtBtF,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQwF,SAAW,IAAMxF,EAAQyF,aAC/CxF,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYyB,MAAM,gBAAgBhB,QAAQ,WAA1C,UAGAV,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYwF,cAAY,EAAChF,UAAU,KAChCkE,IAGL3E,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQwF,SAAW,IAAMxF,EAAQyF,aAC/CxF,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYyB,MAAM,gBAAgBhB,QAAQ,WAA1C,uBAGAV,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYwF,cAAY,EAAChF,UAAU,KAChC+C,EAAKQ,YAAY,GAAG0B,SAGzB1F,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQwF,SAAW,IAAMxF,EAAQyF,aAC/CxF,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYyB,MAAM,gBAAgBhB,QAAQ,WAA1C,0BAGAV,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYQ,UAAU,KACnB+C,EAAKQ,YAAY,GAAG2B,oBAO/B3F,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQ6F,aACtB5F,EAAAC,EAAAC,cAAC2F,EAAA5F,EAAD,CAAMG,UAAWL,EAAQ+F,MACvB9F,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQgG,SACtB/F,EAAAC,EAAAC,cAAC8F,GAAA/F,EAAD,CAAaG,UAAWL,EAAQkG,SAC9BjG,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYS,QAAQ,aAApB,kBAGAV,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYQ,UAAU,KAAKC,QAAQ,MAChC8C,EAAKQ,YAAY,GAAGkC,gBAEvBlG,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQoG,UACtBnG,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,CAAYoG,QAASzH,KAAKsE,UACxBlD,EAAAC,EAAAC,cAAA,KAAGE,UAAU,kBAEfJ,EAAAC,EAAAC,cAACoG,GAAArG,EAAD,CACEmB,GAAG,kBACHxB,MAAOkD,EACPxB,SAAU,SAACiF,GAAD,OAAOlC,EAAKlF,aAAaoH,EAAG,cACtC/E,KAAK,SACLpB,UAAWL,EAAQyG,UACnB1F,OAAO,WAETd,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,CAAYoG,QAASzH,KAAKqE,KACxBjD,EAAAC,EAAAC,cAAA,KAAGE,UAAU,kBAGjBJ,EAAAC,EAAAC,cAACuB,EAAAxB,EAAD,CAAQS,QAAQ,YAAY+F,UAAW3D,EAAWpB,MAAM,UAAUtB,UAAWL,EAAQ2G,OAAQL,QAASzH,KAAKuE,kBAA3G,iBAMLK,EAAKmD,eAAiBnD,EAAKmD,cAAcC,QACxC5G,EAAAC,EAAAC,cAAC2F,EAAA5F,EAAD,CAAMG,UAAWL,EAAQ+F,MACvB9F,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQgG,SACtB/F,EAAAC,EAAAC,cAAC8F,GAAA/F,EAAD,CAAaG,UAAWL,EAAQkG,SAC9BjG,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYS,QAAQ,aAApB,iBAGAV,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAaG,UAAWL,EAAQoG,UAC9BnG,EAAAC,EAAAC,cAACe,EAAAhB,EAAD,CAAYiB,QAAQ,aAApB,UACAlB,EAAAC,EAAAC,cAAC2G,EAAA5G,EAAD,CACEL,MAAOmD,EACPzB,SAAU,SAACiF,GAAD,OAAOlC,EAAKlF,aAAaoH,EAAG,cACtCO,WAAY,CACVnH,KAAM,YACNyB,GAAI,aAENhB,UAAWL,EAAQgH,WAEnB/G,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CAAUL,MAAM,IACdI,EAAAC,EAAAC,cAAA,mBAEDsD,EAAKmD,cAAcM,IAAI,SAAAC,GAAM,OAC5BlH,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CAAUL,MAAOsH,EAAO9F,GAAI+F,IAAKD,EAAO9F,IACtCpB,EAAAC,EAAAC,cAAA,QAAMkH,wBAAyB,CAACC,OAAQH,EAAOI,YAAc,KAAKJ,EAAOK,cAAc,mBAK/FvH,EAAAC,EAAAC,cAACuB,EAAAxB,EAAD,CAAQS,QAAQ,YAAY+F,UAAW1D,EAAWrB,MAAM,UAAUtB,UAAWL,EAAQ2G,OAAQL,QAASzH,KAAKwE,mBAA3G,wBAOPmB,GAAcA,EAAWiD,MAAQjD,EAAWiD,KAAKZ,QAChD5G,EAAAC,EAAAC,cAAC2F,EAAA5F,EAAD,CAAMG,UAAWL,EAAQ+F,MACvB9F,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQgG,SACtB/F,EAAAC,EAAAC,cAAC8F,GAAA/F,EAAD,CAAaG,UAAWL,EAAQkG,SAC9BjG,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYS,QAAQ,aAApB,cAGAV,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAaG,UAAWL,EAAQoG,UAC9BnG,EAAAC,EAAAC,cAACe,EAAAhB,EAAD,CAAYiB,QAAQ,UAApB,cACAlB,EAAAC,EAAAC,cAAC2G,EAAA5G,EAAD,CACEL,MAAOoD,EACP1B,SAAU,SAACiF,GAAD,OAAOlC,EAAKlF,aAAaoH,EAAG,WACtCO,WAAY,CACVnH,KAAM,SACNyB,GAAI,UAENhB,UAAWL,EAAQgH,WAEnB/G,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CAAUL,MAAM,IACdI,EAAAC,EAAAC,cAAA,mBAEFF,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CAAUL,MAAM,UACdI,EAAAC,EAAAC,cAAA,gCAEDqE,EAAWiD,KAAKP,IAAI,SAAAxD,GAAG,OACtBzD,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CAAUL,MAAO6D,EAAIrC,GAAI+F,IAAK1D,EAAIrC,IAChCpB,EAAAC,EAAAC,cAAA,QAAMkH,wBAAyB,CAACC,OAAQ5D,EAAI9D,KAAO,KAAK8D,EAAIgE,SAAS,sBAK7EzH,EAAAC,EAAAC,cAACuB,EAAAxB,EAAD,CAAQS,QAAQ,YAAY+F,SAAUjD,EAAKC,KAAOD,EAAKC,IAAI,IAAMD,EAAKC,IAAI,GAAGrC,IAAM4B,EAAQtB,MAAM,UAAUtB,UAAWL,EAAQ2G,OAAQL,QAASzH,KAAKyE,WAApJ,iCA3PKxB,aA4QRC,OA7UA,SAAAC,GAAK,MAAK,CACvB0B,IAAK,CACHiE,YAAa,EACbC,YAAa,UACbC,aAAc,EACdC,YAAa,QACblF,QAAS,WACTmF,SAAU,GACV7F,QAAS,QACT8F,WAAY,OACZ1F,YAAa,GACb2F,WAAY,UACZtG,MAAO,WAET4D,QAAS,CACPrD,QAAS,QAEXsD,SAAU,CACR0C,SAAU,EACVC,UAAW,UAEb1C,YAAa,CACXnD,YAAaN,EAAMI,QAAQC,KAC3BF,WAAYH,EAAMI,QAAQC,MAE5BwD,YAAa,CACX3D,QAAS,OACTU,QAA8B,EAArBZ,EAAMI,QAAQC,KACvB+F,SAAU,QAEZrC,KAAM,CACJhF,OAAQiB,EAAMI,QAAQC,KACtB6F,SAAU,EACVC,UAAW,UAEbnC,QAAS,CACP9D,QAAS,OACTQ,cAAe,UAEjBwD,QAAS,CACPmC,KAAM,YAERjC,SAAU,CACRlE,QAAS,OACTS,WAAY,SACZV,MAAO,IACPQ,UAAWT,EAAMI,QAAQC,KACzBiG,aAActG,EAAMI,QAAQC,KAC5BF,WAAY,OACZG,YAAa,QAEf0E,UAAW,CACT/E,MAAO,QAETwE,UAAW,CACT8B,UAAW,CACTJ,UAAW,SACXJ,SAAU,KAGdpB,OAAQ,CACN5F,OAAQiB,EAAMI,QAAQC,QAgRXN,CAAmBe,wBCxU5B0F,eACJ,SAAAA,EAAY/J,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2J,IACjB9J,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6J,GAAAxJ,KAAAH,KAAMJ,KACDQ,MAAQ,CACXwJ,SAAU,EACVC,eAAgB,KAChBC,QAAQ,GALOjK,mFAUjBG,KAAKY,SAAS,CACZiJ,eAAgB7J,KAAKJ,MAAMmK,SAASF,gBACnC,WACD7J,KAAKJ,MAAMoK,MAAMhK,KAAKI,wFAOjB,IAAA4E,EAC6BhF,KAAKJ,MAAjCuB,EADD6D,EACC7D,QAASyD,EADVI,EACUJ,KACTgF,GAFD5E,EACgB+E,SACF/J,KAAKI,MAAlBwJ,UACFK,EAAiB,wCAAwCrF,EAAKe,WAAWnD,GAAG,MAElF,OAAIoC,EAAKsF,UAEL9I,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACI,EAAAL,EAAD,CAAO8I,MAAOF,EAAerF,EAAKsF,UAAUE,KAAM5I,UAAWL,EAAQkJ,WACnEjJ,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYyB,MAAM,gBAAgBhB,QAAQ,MACvC8H,EADH,aAGAxI,EAAAC,EAAAC,cAACgJ,GAAAjJ,EAAD,CACEL,MAAOiJ,EAAerF,EAAKsF,UAAUE,KACrCG,KAAM,IACNC,KAAM5F,EAAKe,WAAW8E,gBAO5BrJ,EAAAC,EAAAC,cAAA,wCA3CiB2B,aAuDVC,OArEA,SAAAC,GAAK,MAAK,CACvBkH,UAAW,CACTtG,QAAS,GACTuF,UAAW,SACXpH,OAAQ,GACRwI,WAAY,CACVtH,MAAO,iBACPuH,OAAQ,kBACRC,SAAU,IACVC,SAAU,QA4DD3H,CAAmByG,ICtC5BmB,eACJ,SAAAA,EAAYlL,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8K,IACjBjL,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgL,GAAA3K,KAAAH,KAAMJ,KACDQ,MAAQ,CACXwJ,SAAU,EACVC,eAAgB,KAChB1F,UAAW,GACXuE,YAAa,MAEf7I,EAAKU,aAAeV,EAAKU,aAAaC,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KARHA,mFAYjBG,KAAKY,SAAS,CACZiJ,eAAgB7J,KAAKJ,MAAMmK,SAASF,gBACnC,WACG7J,KAAKJ,MAAMgF,KAAKmG,YAAoD,IAAtC/K,KAAKJ,MAAMgF,KAAKmG,WAAW/C,QAC3DhI,KAAKY,SAAS,CACZuD,UAAWnE,KAAKJ,MAAMgF,KAAKmG,WAAW,GAAGvI,GACzCkG,YAAa1I,KAAKJ,MAAMgF,KAAKmG,WAAW,GAAGrC,aAC1C,WACD1I,KAAKJ,MAAMoK,MAAMhK,KAAKI,8FASjBO,EAAOI,GAClBf,KAAKY,SAALd,OAAAe,EAAA,EAAAf,CAAA,GACGiB,EAAOJ,EAAMG,OAAOE,OACpB,WACDhB,KAAKJ,MAAMoK,MAAMhK,KAAKI,0CAIjB,IAAAqF,EAAAzF,KAAAgF,EAC6BhF,KAAKJ,MAAjCuB,EADD6D,EACC7D,QAASyD,EADVI,EACUJ,KADVgB,GAAAZ,EACgB+E,SACY/J,KAAKI,OAAhC+D,EAFDyB,EAECzB,UAAWuE,EAFZ9C,EAEY8C,YAEnB,OAAI9D,EAAKmG,WAEL3J,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACI,EAAAL,EAAD,CAAO8I,MAAQvF,EAAKsF,UAAatF,EAAKsF,UAAUE,KAAO,GAAI5I,UAAWL,EAAQkJ,WACxEzF,EAAKmG,YAAcnG,EAAKmG,WAAW/C,OAAS,EAC5C5G,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAaG,UAAWL,EAAQoG,UAC9BnG,EAAAC,EAAAC,cAACe,EAAAhB,EAAD,CAAYiB,QAAQ,aAApB,UACAlB,EAAAC,EAAAC,cAAC2G,EAAA5G,EAAD,CACEL,MAAOmD,EACPzB,SAAU,SAACiF,GAAD,OAAOlC,EAAKlF,aAAaoH,EAAG,cACtCO,WAAY,CACVnH,KAAM,YACNyB,GAAI,aAENhB,UAAWL,EAAQgH,WAEnB/G,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CAAUL,MAAM,IACdI,EAAAC,EAAAC,cAAA,mBAEDsD,EAAKmG,WAAW1C,IAAI,SAAAC,GAAM,OACzBlH,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CAAUL,MAAOsH,EAAO9F,GAAI+F,IAAKD,EAAO9F,IACtCpB,EAAAC,EAAAC,cAAA,QAAMkH,wBAAyB,CAACC,OAAQH,EAAOI,YAAc,KAAKJ,EAAOK,cAAc,mBAM/FvH,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYyB,MAAM,gBAAgBhB,QAAQ,MACvC4G,GAGN9D,EAAKsF,WACJ9I,EAAAC,EAAAC,cAACgJ,GAAAjJ,EAAD,CACEL,MAAO4D,EAAKsF,UAAUE,KACtBG,KAAM,IACNC,KAAM5F,EAAKe,WAAW8E,gBAQ9BrJ,EAAAC,EAAAC,cAAA,wCArFkB2B,aAiGXC,OA5HA,SAAAC,GAAK,MAAK,CACvBkH,UAAW,CACTtG,QAAS,GACTuF,UAAW,SACXpH,OAAQ,GACRwI,WAAY,CACVtH,MAAO,iBACPuH,OAAQ,kBACRC,SAAU,IACVC,SAAU,MAGdtD,SAAU,CACRlE,QAAS,OACTS,WAAY,SACZV,MAAO,OACPyH,SAAU,IACVjH,UAAWT,EAAMI,QAAQC,KACzBiG,aAActG,EAAMI,QAAQC,KAC5BF,WAAY,OACZG,YAAa,QAEf0E,UAAW,CACT/E,MAAO,UAqGIF,CAAmB4H,IC/H5BE,eACJ,SAAAA,EAAYpL,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgL,IACjBnL,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkL,GAAA7K,KAAAH,KAAMJ,KACDQ,MAAQ,GAFIP,mKAYV,IAAAmF,EACuBhF,KAAKJ,MAD5BoF,EACC7D,QADD6D,EACU+E,SAEjB,OACE3I,EAAAC,EAAAC,cAAA,iCAjBmB2B,aA4BVC,OA/BA,SAAAC,GAAK,MAAK,IA+BVD,CAAmB8H,ICoC5BC,GAAe,CACnBC,eAAe,EACfC,iBAAkB,GAClBC,WAAY,KACZC,SAAU,IAGNC,eACJ,SAAAA,EAAY1L,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsL,IACjBzL,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwL,GAAAnL,KAAAH,KAAMJ,KACDQ,MAAQ6K,GAEbpL,EAAKU,aAAeV,EAAKU,aAAaC,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACpBA,EAAK0L,YAAc1L,EAAK0L,YAAY/K,KAAjBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACnBA,EAAK2L,WAAa3L,EAAK2L,WAAWhL,KAAhBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAClBA,EAAK4L,cAAgB5L,EAAK4L,cAAcjL,KAAnBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACrBA,EAAK6L,aAAe7L,EAAK6L,aAAalL,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACpBA,EAAK8L,WAAa9L,EAAK8L,WAAWnL,KAAhBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAClBA,EAAK+L,aAAe/L,EAAK+L,aAAapL,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAVHA,oFAcbgM,aAAaC,QAAQ,oBACvB9L,KAAKY,SAAS,CAAEuK,iBAAkBY,SAASF,aAAaC,QAAQ,uBACvD9L,KAAKJ,MAAMgF,KAAKe,WAAWW,YACgB,IAAhDtG,KAAKJ,MAAMgF,KAAKe,WAAWW,UAAU0B,QACvC6D,aAAaG,QAAQ,mBAAoBhM,KAAKJ,MAAMgF,KAAKe,WAAWW,UAAU,GAAG9D,IACjFxC,KAAKY,SAAS,CACZuK,iBAAkBY,SAAS/L,KAAKJ,MAAMgF,KAAKe,WAAWW,UAAU,GAAG9D,OAGrExC,KAAKY,SAAS,CACZsK,eAAe,0CAMVvK,GACXX,KAAKY,SAALd,OAAAe,EAAA,EAAAf,CAAA,GAAiBa,EAAMG,OAAOC,KAAOJ,EAAMG,OAAOE,OAAS,WAC/B,qBAAtBL,EAAMG,OAAOC,MACf8K,aAAaG,QAAQ,mBAAoBrL,EAAMG,OAAOE,+CAM1DhB,KAAKY,SAAS,CAAEsK,eAAe,yCAI/BlL,KAAKY,SAAS,CAAEsK,eAAe,4CAI/BlL,KAAKY,SAAS,CAAEuK,iBAAkB,4CAIlCnL,KAAKY,SAASqK,GAAc,WAC1BjL,KAAKJ,MAAM8L,sDAIFO,GACXjM,KAAKJ,MAAMoK,MAAM,SAMbhK,KAAKI,MAAMiL,WAAaY,EAC1BjM,KAAKY,SAAS,CAAEyK,SAAUY,IAE1BjM,KAAKY,SAAS,CAAEyK,SAAU,wCAInBzG,GACLA,GACF5E,KAAKY,SAAS,CACZyK,SAAU,GACVD,WAAYxG,GACX,WACD5E,KAAKJ,MAAMsM,cAAclM,KAAKI,MAAMgL,kDAK9Be,GACVrH,QAAQsH,MAAMD,oCAGP,IAAA1G,EAAAzF,KAAAgF,EAC0BhF,KAAKJ,MAA9BuB,EADD6D,EACC7D,QAASyD,EADVI,EACUJ,KAAMoF,EADhBhF,EACgBgF,MADhBpE,EAE+C5F,KAAKI,MAAnD8K,EAFDtF,EAECsF,cAAeC,EAFhBvF,EAEgBuF,iBAAkBE,EAFlCzF,EAEkCyF,SACnCgB,EAAoC,KAArBlB,EAA2BvG,EAAKe,WAAWW,UAAUgG,OAAO,SAASvC,GAAY,OAAOA,EAASvH,KAAO2I,IAAuB,KAC9IoB,EAAc3H,EAAKe,YAA8C,aAAhCf,EAAKe,WAAW6G,YACjDC,EAAaJ,GAAeA,EAAY,IAAMA,EAAY,GAAGK,WAC7DC,GAAiBJ,GAAc3H,EAAKmG,YAAcnG,EAAKmG,WAAW/C,OAClE4E,KAAgBhI,EAAKiI,mBAAoBjI,EAAKiI,iBAAiB,IAC/DC,KAA0BlI,EAAKiI,mBAAoBjI,EAAKiI,iBAAiB,KAAQjI,EAAKiI,iBAAiB,GAAGE,KAAMC,SAAS,UAAYpI,EAAKiI,iBAAiB,GAAGE,KAAMC,SAAS,UAC/KC,EAAwBrI,EAAKsI,SAAY,WAAa7B,EAG1D,OAFA4B,EAAwBH,IAA2BG,EAAwB,WAAaA,EAGtF7L,EAAAC,EAAAC,cAAA,WACGsD,EAAKe,WAAWwH,YAAc/L,EAAAC,EAAAC,cAAA,aAAQsD,EAAKe,WAAWwH,cACpDhC,GAA2C,IAAvBkB,EAAYrE,SAAiBpD,EAAKe,WAAWW,WAAa1B,EAAKe,WAAWW,UAAU0B,OAAS,GAClH5G,EAAAC,EAAAC,cAACiF,EAAAlF,EAAD,CAAQmF,SAAS,SAAS1D,MAAM,UAAUtB,UAAU,UAClDJ,EAAAC,EAAAC,cAACmF,EAAApF,EAAD,KACED,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAaG,UAAWL,EAAQiM,aAC9BhM,EAAAC,EAAAC,cAACe,EAAAhB,EAAD,CAAYiB,QAAQ,mBAApB,qBACAlB,EAAAC,EAAAC,cAAC2G,EAAA5G,EAAD,CACEgM,KAAMnC,EACNoC,QAAStN,KAAKuL,YACdgC,OAAQvN,KAAKwL,WACbxK,MAAOmK,EACPzI,SAAU1C,KAAKO,aACf2H,WAAY,CACVnH,KAAM,mBACNyB,GAAI,oBAGNpB,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CAAUG,UAAWL,EAAQqM,aAAcxM,MAAM,GAAG6G,UAAU,GAA9D,sBACCjD,EAAKe,WAAWW,UAAU+B,IAAI,SAAAoF,GAAG,OAChCrM,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CAAUL,MAAOyM,EAAIjL,GAAI+F,IAAKkF,EAAIjL,IAChCpB,EAAAC,EAAAC,cAAA,QAAMkH,wBAAyB,CAACC,OAAQgF,EAAIC,sBAKpDtM,EAAAC,EAAAC,cAACqM,EAAAtM,EAAD,CAAS8I,MAAM,UACb/I,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,CAAYyB,MAAM,UAAU8K,aAAW,SAASnG,QAASzH,KAAK0L,cAC5DtK,EAAAC,EAAAC,cAAA,KAAGE,UAAU,wBAMtB2J,GAAoBkB,EAAY,IAC/BjL,EAAAC,EAAAC,cAACiF,EAAAlF,EAAD,CAAQmF,SAAS,SAAS1D,MAAM,UAAUtB,UAAU,UAClDJ,EAAAC,EAAAC,cAACmF,EAAApF,EAAD,KACED,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYS,QAAQ,KAAKgB,MAAM,UAAUtB,UAAWL,EAAQ0M,SAC1DzM,EAAAC,EAAAC,cAAA,QAAMkH,wBAAyB,CAACC,OAAQ4D,EAAY,GAAGqB,kBAExDnB,GACCnL,EAAAC,EAAAC,cAACqM,EAAAtM,EAAD,CAAS8I,MAAM,uBACb/I,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,CAAYG,UAAqC,cAAzByL,GAAiE,aAAzBA,EAAuC9L,EAAQ2M,eAAiB,GAAIhL,MAAM,UAAU8K,aAAW,sBAAsBnG,QAAS,SAACE,GAAD,OAAOlC,EAAKmG,aAAa,eACrNxK,EAAAC,EAAAC,cAAA,KAAGE,UAAU,mBAIjB+K,GACAnL,EAAAC,EAAAC,cAACqM,EAAAtM,EAAD,CAAS8I,MAAM,sBACb/I,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,CAAYG,UAAqC,aAAzByL,EAAuC9L,EAAQ2M,eAAiB,GAAIhL,MAAM,UAAU8K,aAAW,qBAAqBnG,QAAS,SAACE,GAAD,OAAOlC,EAAKmG,aAAa,cAC5KxK,EAAAC,EAAAC,cAAA,KAAGE,UAAU,mBAIlBmL,GACCvL,EAAAC,EAAAC,cAACqM,EAAAtM,EAAD,CAAS8I,MAAM,uBACb/I,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,CAAYG,UAAqC,cAAzByL,EAAwC9L,EAAQ2M,eAAiB,GAAIhL,MAAM,UAAU8K,aAAW,sBAAsBnG,QAAS,SAACE,GAAD,OAAOlC,EAAKmG,aAAa,eAC9KxK,EAAAC,EAAAC,cAAA,KAAGE,UAAU,mBAIlBiL,GACCrL,EAAAC,EAAAC,cAACqM,EAAAtM,EAAD,CAAS8I,MAAM,UACb/I,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,CAAYG,UAAqC,eAAzByL,EAAyC9L,EAAQ2M,eAAiB,GAAIhL,MAAM,UAAU8K,aAAW,SAASnG,QAAS,SAACE,GAAD,OAAOlC,EAAKmG,aAAa,gBAClKxK,EAAAC,EAAAC,cAAA,KAAGE,UAAU,qBAIlBoD,EAAKe,WAAWW,WAAa1B,EAAKe,WAAWW,UAAU0B,OAAS,GAC/D5G,EAAAC,EAAAC,cAACqM,EAAAtM,EAAD,CAAS8I,MAAM,yBACb/I,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,CAAYyB,MAAM,UAAU8K,aAAW,wBAAwBnG,QAASzH,KAAKyL,eAC3ErK,EAAAC,EAAAC,cAAA,KAAGE,UAAU,sBAInBJ,EAAAC,EAAAC,cAACqM,EAAAtM,EAAD,CAAS8I,MAAM,UACb/I,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,CAAYyB,MAAM,UAAU8K,aAAW,SAASnG,QAASzH,KAAK0L,cAC5DtK,EAAAC,EAAAC,cAAA,KAAGE,UAAU,yBAMI,KAAzByL,GAA+BH,KAA4BF,GAC3DxL,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQ4M,YACtB3M,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACZ+K,GACCnL,EAAAC,EAAAC,cAAC0M,EAAA3M,EAAD,CACE4M,aAAW,EACXC,sBAAuB/M,EAAQgN,aAC/B1G,QAAS,SAACE,GAAD,OAAOlC,EAAKmG,aAAa,cAClCpK,UAAWL,EAAQiN,YAEnBhN,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQkN,WAAWjN,EAAAC,EAAAC,cAAA,KAAGE,UAAU,uBAChDJ,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYS,QAAQ,KAAKgB,MAAM,WAA/B,uBAKFyJ,GACAnL,EAAAC,EAAAC,cAAC0M,EAAA3M,EAAD,CACE4M,aAAW,EACXC,sBAAuB/M,EAAQgN,aAC/B1G,QAAS,SAACE,GAAD,OAAOlC,EAAKmG,aAAa,aAClCpK,UAAWL,EAAQiN,YAEnBhN,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQkN,WAAWjN,EAAAC,EAAAC,cAAA,KAAGE,UAAU,wBAChDJ,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYS,QAAQ,KAAKgB,MAAM,WAA/B,kBAKH6J,GACCvL,EAAAC,EAAAC,cAAC0M,EAAA3M,EAAD,CACE4M,aAAW,EACXC,sBAAuB/M,EAAQgN,aAC/B1G,QAAS,SAACE,GAAD,OAAOlC,EAAKmG,aAAa,cAClCpK,UAAWL,EAAQiN,YAEnBhN,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQkN,WAAWjN,EAAAC,EAAAC,cAAA,KAAGE,UAAU,wBAChDJ,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYS,QAAQ,KAAKgB,MAAM,WAA/B,mBAKH2J,GACCrL,EAAAC,EAAAC,cAAC0M,EAAA3M,EAAD,CACE4M,aAAW,EACXC,sBAAuB/M,EAAQgN,aAC/B1G,QAAS,SAACE,GAAD,OAAOlC,EAAKmG,aAAa,eAClCpK,UAAWL,EAAQiN,YAEnBhN,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQkN,WAAWjN,EAAAC,EAAAC,cAAA,KAAGE,UAAU,0BAChDJ,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYS,QAAQ,KAAKgB,MAAM,WAA/B,cAQiB,KAAzBmK,GAA+BH,IAA2BF,GAC1DxL,EAAAC,EAAAC,cAAA,OAAKE,UAAWoD,EAAKiI,iBAAiB,GAAGE,MACtCnI,EAAKiI,iBAAiB,GAAGyB,KACxBlN,EAAAC,EAAAC,cAAA,aAAQsD,EAAKiI,iBAAiB,GAAGyB,KAEnClN,EAAAC,EAAAC,cAAA,OAAKE,UAAWL,EAAQoN,KAAO,QAAc/F,wBAAyB,CAACC,OAAQ7D,EAAKiI,iBAAiB,GAAGxF,YAGlF,cAAzB4F,GAAwCZ,GACvCjL,EAAAC,EAAAC,cAACkN,EAAAnN,EAAD,CACEoN,MAAOzO,KAAKI,MAAMqO,MAClBC,QAAS1O,KAAK2O,YACdC,OAAQ5O,KAAK2L,WACbnK,UAAWL,EAAQ0N,YAGG,aAAzB5B,GAAuCZ,GACtCjL,EAAAC,EAAAC,cAACwN,GAAD,CACElK,KAAMA,EACNmF,SAAUsC,EAAY,GACtBrC,MAAOA,IAGe,cAAzBiD,GAAwCZ,GACvCjL,EAAAC,EAAAC,cAACyN,GAAD,CACEnK,KAAMA,EACNmF,SAAUsC,EAAY,GACtBrC,MAAOA,IAGe,eAAzBiD,GAAyCZ,GACxCjL,EAAAC,EAAAC,cAAC0N,GAAD,CACEpK,KAAMA,EACNmF,SAAUsC,EAAY,KAGA,aAAzBY,GAAuCZ,GACtCjL,EAAAC,EAAAC,cAAC2N,GAAD,CACErK,KAAMA,EAAKsI,SACXvH,WAAYf,EAAKe,WACjBV,MAAOoH,EAAY,GAAGxC,eACtBtF,iBAAkBvE,KAAKJ,MAAM2E,iBAC7BC,kBAAmBxE,KAAKJ,MAAM4E,kBAC9BE,aAAc1E,KAAKJ,MAAM8E,aACzBC,gBAAiB3E,KAAKJ,MAAM+E,0BA5Rf1B,aAwSVC,OAnWA,SAAAC,GAAK,MAAK,CACvBiK,YAAa,CACXlL,OAAQiB,EAAMI,QAAQC,KACtB6F,SAAU,EACVvG,MAAO,QAET0K,aAAc,CACZpE,WAAY,kBACZtG,MAAO,OACP6H,OAAQ,GACRzB,SAAU,GACVgG,QAAS,GAEXrB,QAAS,CACPxE,SAAU,GAEZwF,UAAW,CACTzL,MAAO,OACP+L,YAAa,CACXC,WAAY,kCAGhBrB,WAAY,CACVpD,OAAQ,gCACRrB,UAAW,UAEb6E,aAAc,GACdE,UAAW,CACTtK,QAAS,SACTsL,WAAY,CACVnG,SAAU,KAGdkF,WAAY,CACVkB,cAAe,MACfjM,QAAS,eACTD,MAAO,IACPmM,MAAO,CACLxL,QAAS,cAGb+J,eAAgB,CACd1E,WAAY,mBAEdmF,KAAM,CACJiB,UAAW,qBACXC,UAAW,gBAqTAvM,CAAmBoI,IN1W5BoE,WAAU,oDAEVzE,GAAe,CACnB0E,OAAQ,KACRC,UAAW,KACXjK,WAAY,KACZuH,SAAU,KACV2C,cAAc,EACdC,gBAAiB,GACjBC,cAAe,GACflD,iBAAkB,KAClB3C,UAAW,MA4VE8F,eAxVb,SAAAA,EAAYpQ,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgQ,GACjBnQ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkQ,GAAA7P,KAAAH,KAAMJ,IAENF,EAAKI,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,IACLA,EAAKO,MAAQ6K,GAEbpL,EAAKoQ,aAAepQ,EAAKoQ,aAAazP,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACpBA,EAAKqQ,aAAerQ,EAAKqQ,aAAa1P,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACpBA,EAAK6L,aAAe7L,EAAK6L,aAAalL,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACpBA,EAAKsQ,WAAatQ,EAAKsQ,WAAW3P,KAAhBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAClBA,EAAKuQ,SAAWvQ,EAAKuQ,SAAS5P,KAAdV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAChBA,EAAKwQ,UAAYxQ,EAAKwQ,UAAU7P,KAAfV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACjBA,EAAKyQ,QAAUzQ,EAAKyQ,QAAQ9P,KAAbV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACfA,EAAK0Q,WAAa1Q,EAAK0Q,WAAW/P,KAAhBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAClBA,EAAK2Q,gBAAkB3Q,EAAK2Q,gBAAgBhQ,KAArBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACvBA,EAAKmK,MAAQnK,EAAKmK,MAAMxJ,KAAXV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACbA,EAAK0E,iBAAmB1E,EAAK0E,iBAAiB/D,KAAtBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACxBA,EAAK2E,kBAAoB3E,EAAK2E,kBAAkBhE,KAAvBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACzBA,EAAK6E,aAAe7E,EAAK6E,aAAalE,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACpBA,EAAK8E,gBAAkB9E,EAAK8E,gBAAgBnE,KAArBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAnBNA,4EAsBN4Q,EAASC,GACpB1Q,KAAKY,SAAS,CACZiP,cAAc,EACdC,gBAAiBW,EACjBV,cAAeW,2CAKjB1Q,KAAKY,SAAS,CACZiP,cAAc,EACdC,gBAAiB,GACjBC,cAAe,4CAKjBlE,aAAa8E,WAAW,UACxB9E,aAAa8E,WAAW,oBACxB3Q,KAAKY,SAASqK,gDAIVY,aAAaC,QAAQ,WACvBpM,EAAMkB,SAAS,CAAE+O,OAAQ9D,aAAaC,QAAQ,WAAa,WACzDpM,EAAM0Q,SAAS,CAAEQ,QAASlR,EAAMU,MAAMuP,4FAQjC/K,GACTiM,MAAMnB,GAAQ,SAAU,CACtBoB,OAAQ,OACRC,QAAS,CACPC,eAAgB,oDAElBC,KAAMjR,KAAKkR,YAAYtM,KAExBuM,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvB,GACRA,EAAUxD,MAMb1M,EAAMuQ,aAAa,UAAUL,EAAUa,QAAS,SALhD/Q,EAAMkB,SAAS,CAAEgP,YAAWD,OAAQC,EAAUD,QAAU,WACtD9D,aAAaG,QAAQ,SAAUtM,EAAMU,MAAMuP,QAC3CjQ,EAAM2Q,UAAU3Q,EAAMU,MAAMwP,UAAU0B,gDAQrC1M,GACPiM,MAAMnB,GAAQ,aAAc,CAC1BoB,OAAQ,OACRC,QAAS,CACPC,eAAgB,oDAElBC,KAAMjR,KAAKkR,YAAYtM,KAExBuM,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvB,GACRA,EAAUxD,MAKb1M,EAAMkB,SAAS,CAAE+O,OAAQ,OAJzBjQ,EAAMkB,SAAS,CAAEgP,YAAWD,OAAQC,EAAUD,QAAU,WACtDjQ,EAAM2Q,UAAU3Q,EAAMU,MAAMwP,UAAU0B,mDAS5CT,MAAMnB,GAAQ,UAAW,CACvBoB,OAAQ,MACRC,QAAS,CACPQ,cAAiBvR,KAAKI,MAAMuP,OAC5B6B,SAAYxR,KAAKI,MAAMuP,UAG1BwB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvM,GACRA,EAAKwH,QACR1M,EAAMkB,SAAS,CAAE+E,WAAYf,EAAK6M,OAAO,KACzC/R,EAAM6Q,aACN7Q,EAAM8Q,qDAKJpF,GACNyF,MAAMnB,GAAQ,UAAUtE,EAAY,CAClC0F,OAAQ,MACRC,QAAS,CACPQ,cAAiBvR,KAAKI,MAAMuP,OAC5B6B,SAAYxR,KAAKI,MAAMuP,UAG1BwB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvM,GACRA,EAAKwH,OACR1M,EAAMkB,SAAS,CAAEsM,SAAUtI,2CAM/BiM,MAAMnB,GAAQ,WAAY,CACxBoB,OAAQ,MACRC,QAAS,CACPQ,cAAiBvR,KAAKI,MAAMuP,OAC5B6B,SAAYxR,KAAKI,MAAMuP,UAG1BwB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvM,GACRA,EAAKwH,OACR1M,EAAMkB,SAAS,CAAEmK,WAAYnG,EAAK8M,sDAMtCb,MAAMnB,GAAQ,SAAU,CACtBoB,OAAQ,MACRC,QAAS,CACPQ,cAAiBvR,KAAKI,MAAMuP,OAC5B6B,SAAYxR,KAAKI,MAAMuP,UAG1BwB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvM,GACRA,EAAKwH,OACR1M,EAAMkB,SAAS,CAAEiM,iBAAkBjI,EAAK+M,wCAKxC/M,GACS,UAATA,EACFlF,EAAMkB,SAAS,CAAEsJ,UAAW,OAE5B2G,MAAMnB,GAAQ,MAAO,CACnBoB,OAAQ,OACRC,QAAS,CACPC,eAAgB,mDAChBO,cAAiBvR,KAAKI,MAAMuP,OAC5B6B,SAAYxR,KAAKI,MAAMuP,QAEzBsB,KAAMjR,KAAKkR,YAAYtM,KAExBuM,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvM,GACRA,EAAKwH,MAGR1M,EAAMkB,SAAS,CAAEsJ,UAAW,OAF5BxK,EAAMkB,SAAS,CAAEsJ,UAAWtF,+CAQnBA,GACfiM,MAAMnB,GAAQ,eAAgB,CAC5BoB,OAAQ,OACRC,QAAS,CACPC,eAAgB,mDAChBO,cAAiBvR,KAAKI,MAAMuP,OAC5B6B,SAAYxR,KAAKI,MAAMuP,QAEzBsB,KAAMjR,KAAKkR,YAAYtM,KAExBuM,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvM,GACRA,EAAKwH,MAIR1M,EAAMuQ,aAAa,UAAUrL,EAAK6L,QAAS,UAH3C/Q,EAAMuQ,aAAa,4BAA6B,WAChDvQ,EAAM4Q,QAAQ5Q,EAAMU,MAAM8M,SAAS9H,YAAY,GAAGwL,sDAOtChM,GAChBiM,MAAMnB,GAAQ,cAAe,CAC3BoB,OAAQ,OACRC,QAAS,CACPC,eAAgB,mDAChBO,cAAiBvR,KAAKI,MAAMuP,OAC5B6B,SAAYxR,KAAKI,MAAMuP,QAEzBsB,KAAMjR,KAAKkR,YAAYtM,KAExBuM,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvM,GACRA,EAAKwH,MAIR1M,EAAMuQ,aAAa,UAAUrL,EAAK6L,QAAS,UAH3C/Q,EAAMuQ,aAAa,2BAA4B,WAC/CvQ,EAAM4Q,QAAQ5Q,EAAMU,MAAM8M,SAAS9H,YAAY,GAAGwL,iDAO3ChM,GACXiM,MAAMnB,GAAQ,OAAQ,CACpBoB,OAAQ,OACRC,QAAS,CACPC,eAAgB,mDAChBO,cAAiBvR,KAAKI,MAAMuP,OAC5B6B,SAAYxR,KAAKI,MAAMuP,QAEzBsB,KAAMjR,KAAKkR,YAAYtM,KAExBuM,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvM,GACRA,EAAKwH,MAIR1M,EAAMuQ,aAAa,UAAUrL,EAAK6L,QAAS,UAH3C/Q,EAAMuQ,aAAa,+BAAgC,WACnDvQ,EAAM4Q,QAAQ5Q,EAAMU,MAAM8M,SAAS9H,YAAY,GAAGwL,oDAOxCzL,GACd0L,MAAMnB,GAAQ,QAAQvK,EAAS,CAC7B2L,OAAQ,SACRC,QAAS,CACPC,eAAgB,mDAChBO,cAAiBvR,KAAKI,MAAMuP,OAC5B6B,SAAYxR,KAAKI,MAAMuP,UAG1BwB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAASvM,GACRA,EAAKwH,MAIR1M,EAAMuQ,aAAa,UAAUrL,EAAK6L,QAAS,UAH3C/Q,EAAMuQ,aAAa,+BAAgC,WACnDvQ,EAAM4Q,QAAQ5Q,EAAMU,MAAM8M,SAAS9H,YAAY,GAAGwL,gDAO5CgB,GACV,GAAsB,kBAAZA,GACc,qBAAZ9M,QAER,OADAA,QAAQC,IAAI,kCACL,KAKX,IAHA,IAAI8M,EAAIC,mBACJC,EAAU,GACVC,EAAOlS,OAAOkS,KAAKJ,GACfK,EAAE,EAAGA,EAAGD,EAAKhK,OAAQiK,IACzBF,GAAWF,EAAEG,EAAKC,IAAM,IAAMJ,EAAED,EAAQI,EAAKC,KAC1CA,EAAKD,EAAKhK,OAAO,IAAG+J,GAAS,KAGpC,OAAOA,mCAGA,IAAAnM,EACkD5F,KAAKI,MAAtDyP,EADDjK,EACCiK,aAAcC,EADflK,EACekK,gBAAiBC,EADhCnK,EACgCmK,cAEvC,OAAK/P,KAAKI,MAAMuP,OAoBL3P,KAAKI,MAAMuP,OAChB3P,KAAKI,MAAMuF,WAEXvE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC4Q,EAAA7Q,EAAD,CACE8Q,aAAc,CACZC,SAAU,MACVC,WAAY,UAEdhF,KAAMwC,EACNvC,QAAStN,KAAKkQ,aACdO,QAASX,EACTtO,UAAWuO,IAEb3O,EAAAC,EAAAC,cAACgR,GAAD,CACE1N,KAAM5E,KAAKI,MACX8L,cAAelM,KAAKsQ,QACpB/L,iBAAkBvE,KAAKuE,iBACvBC,kBAAmBxE,KAAKwE,kBACxBE,aAAc1E,KAAK0E,aACnBC,gBAAiB3E,KAAK2E,gBACtB+G,aAAc1L,KAAK0L,aACnB1B,MAAOhK,KAAKgK,SAMhB5I,EAAAC,EAAAC,cAAA,8BA5BC,EAlBHF,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAC4Q,EAAA7Q,EAAD,CACE8Q,aAAc,CACZC,SAAU,MACVC,WAAY,UAEdhF,KAAMwC,EACNvC,QAAStN,KAAKkQ,aACdO,QAASX,EACTtO,UAAWuO,IAEb3O,EAAAC,EAAAC,cAAA,OAAKiR,IAAI,WAAW/Q,UAAU,aAAakP,MAAO,CAACxO,OAAQ,iBAC3Dd,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAYS,QAAQ,KAAKN,UAAU,WAAWsB,MAAM,WAApD,qBAGA1B,EAAAC,EAAAC,cAACkR,EAAD,CAAWtR,cAAelB,KAAKmQ,qBAnTvBlN,aOjBEwP,QACW,cAA7BC,OAAO3I,SAAS4I,UAEe,UAA7BD,OAAO3I,SAAS4I,UAEhBD,OAAO3I,SAAS4I,SAASC,MACvB,2DCZN,IAAMC,GAAW,WACfC,IAASC,OAAO3R,EAAAC,EAAAC,cAAC0R,GAAD,MAASC,SAASC,eAAe,UAIhDR,OAAOS,QACRF,SAASG,iBAAiB,cAAeP,IAAU,GAEnDA,KDmHI,kBAAmBQ,WACrBA,UAAUC,cAAcC,MAAMpC,KAAK,SAAAqC,GACjCA,EAAaC","file":"static/js/main.42b56a28.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport PropTypes from 'prop-types';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\n\nimport LoginForm from './LoginForm';\nimport ClientArea from './ClientArea';\n\nimport '../css/index.css';\nimport '../css/all.min.css';\n\nlet this_;\n// const apiBase = \"http://localhost.trueblue.guru/api/v1.5/admin\";\nconst apiBase = \"http://live.trueblue.guru/application/v1.5/admin\";\n\nconst initialState = {\n  apiKey: null,\n  adminData: null,\n  clientData: null,\n  userData: null,\n  snackbarOpen: false,\n  snackbarMessage: \"\",\n  snackbarClass: \"\",\n  merchantPageData: null,\n  displayQR: null,\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this_ = this;\n    this.state = initialState;\n\n    this.showSnackbar = this.showSnackbar.bind(this);\n    this.hideSnackbar = this.hideSnackbar.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.adminLogin = this.adminLogin.bind(this);\n    this.apiLogin = this.apiLogin.bind(this);\n    this.getClient = this.getClient.bind(this);\n    this.getUser = this.getUser.bind(this);\n    this.getRewards = this.getRewards.bind(this);\n    this.getMerchantPage = this.getMerchantPage.bind(this);\n    this.getQR = this.getQR.bind(this);\n    this.handleManualScan = this.handleManualScan.bind(this);\n    this.handleManualClaim = this.handleManualClaim.bind(this);\n    this.handleVIPadd = this.handleVIPadd.bind(this);\n    this.handleVIPdelete = this.handleVIPdelete.bind(this);\n  }\n\n  showSnackbar(message, style) {\n    this.setState({\n      snackbarOpen: true,\n      snackbarMessage: message,\n      snackbarClass: style\n    });\n  }\n\n  hideSnackbar() {\n    this.setState({\n      snackbarOpen: false,\n      snackbarMessage: \"\",\n      snackbarClass: \"\"\n    });\n  }\n\n  handleLogout() {\n    localStorage.removeItem('apiKey');\n    localStorage.removeItem('selectedLocation');\n    this.setState(initialState);\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('apiKey')) {\n      this_.setState({ apiKey: localStorage.getItem('apiKey') }, function() {\n        this_.apiLogin({ api_key: this_.state.apiKey });\n      });\n    }\n  }\n\n  componentDidUpdate() {\n  }\n\n  adminLogin(data) {\n    fetch(apiBase+\"/login\", {\n      method: \"post\",\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n      },\n      body: this.xwwwfurlenc(data)\n    })\n    .then(response => response.json())\n    .then(function(adminData) {\n      if (!adminData.error) {\n        this_.setState({ adminData, apiKey: adminData.apiKey }, function() {\n          localStorage.setItem('apiKey', this_.state.apiKey);\n          this_.getClient(this_.state.adminData.client_id);\n        });\n      } else {\n        this_.showSnackbar(\"Error: \"+adminData.message, \"error\");\n      }\n    });\n  }\n\n  apiLogin(data) {\n    fetch(apiBase+\"/api_login\", {\n      method: \"post\",\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n      },\n      body: this.xwwwfurlenc(data)\n    })\n    .then(response => response.json())\n    .then(function(adminData) {\n      if (!adminData.error) {\n        this_.setState({ adminData, apiKey: adminData.apiKey }, function() {\n          this_.getClient(this_.state.adminData.client_id);\n        });\n      } else {\n        this_.setState({ apiKey: null });\n      }\n    });\n  }\n\n  getClient() {\n    fetch(apiBase+\"/client\", {\n      method: \"get\",\n      headers: {\n        'Authorization': this.state.apiKey,\n        'Tbapikey': this.state.apiKey\n      }\n    })\n    .then(response => response.json())\n    .then(function(data) {\n      if (!data.error) {\n        this_.setState({ clientData: data.client[0] });\n        this_.getRewards();\n        this_.getMerchantPage();\n      }\n    });\n  }\n\n  getUser(userApiKey) {\n    fetch(apiBase+\"/users/\"+userApiKey, {\n      method: \"get\",\n      headers: {\n        'Authorization': this.state.apiKey,\n        'Tbapikey': this.state.apiKey\n      }\n    })\n    .then(response => response.json())\n    .then(function(data) {\n      if (!data.error) {\n        this_.setState({ userData: data });\n      }\n    });\n  }\n\n  getRewards() {\n    fetch(apiBase+\"/rewards\", {\n      method: \"get\",\n      headers: {\n        'Authorization': this.state.apiKey,\n        'Tbapikey': this.state.apiKey\n      }\n    })\n    .then(response => response.json())\n    .then(function(data) {\n      if (!data.error) {\n        this_.setState({ rewardData: data.rewards });\n      }\n    });\n  }\n\n  getMerchantPage() {\n    fetch(apiBase+\"/pages\", {\n      method: \"get\",\n      headers: {\n        'Authorization': this.state.apiKey,\n        'Tbapikey': this.state.apiKey\n      }\n    })\n    .then(response => response.json())\n    .then(function(data) {\n      if (!data.error) {\n        this_.setState({ merchantPageData: data.pages });\n      }\n    });\n  }\n\n  getQR(data) {\n    if (data === \"clear\") {\n      this_.setState({ displayQR: null });\n    } else {\n      fetch(apiBase+\"/qr\", {\n        method: \"post\",\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n          'Authorization': this.state.apiKey,\n          'Tbapikey': this.state.apiKey\n        },\n        body: this.xwwwfurlenc(data)\n      })\n      .then(response => response.json())\n      .then(function(data) {\n        if (!data.error) {\n          this_.setState({ displayQR: data });\n        } else {\n          this_.setState({ displayQR: null });\n        }\n      });\n    }\n  }\n\n  handleManualScan(data) {\n    fetch(apiBase+\"/scan_points\", {\n      method: \"post\",\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n        'Authorization': this.state.apiKey,\n        'Tbapikey': this.state.apiKey\n      },\n      body: this.xwwwfurlenc(data)\n    })\n    .then(response => response.json())\n    .then(function(data) {\n      if (!data.error) {\n        this_.showSnackbar(\"Points have been updated.\", \"success\");\n        this_.getUser(this_.state.userData.userDetails[0].api_key);\n      } else {\n        this_.showSnackbar(\"Error: \"+data.message, \"error\");\n      }\n    });\n  }\n\n  handleManualClaim(data) {\n    fetch(apiBase+\"/claim_scan\", {\n      method: \"post\",\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n        'Authorization': this.state.apiKey,\n        'Tbapikey': this.state.apiKey\n      },\n      body: this.xwwwfurlenc(data)\n    })\n    .then(response => response.json())\n    .then(function(data) {\n      if (!data.error) {\n        this_.showSnackbar(\"Reward has been claimed.\", \"success\");\n        this_.getUser(this_.state.userData.userDetails[0].api_key);\n      } else {\n        this_.showSnackbar(\"Error: \"+data.message, \"error\");\n      }\n    });\n  }\n\n  handleVIPadd(data) {\n    fetch(apiBase+\"/vip\", {\n      method: \"post\",\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n        'Authorization': this.state.apiKey,\n        'Tbapikey': this.state.apiKey\n      },\n      body: this.xwwwfurlenc(data)\n    })\n    .then(response => response.json())\n    .then(function(data) {\n      if (!data.error) {\n        this_.showSnackbar(\"VIP status has been updated.\", \"success\");\n        this_.getUser(this_.state.userData.userDetails[0].api_key);\n      } else {\n        this_.showSnackbar(\"Error: \"+data.message, \"error\");\n      }\n    });\n  }\n\n  handleVIPdelete(user_id) {\n    fetch(apiBase+\"/vip/\"+user_id, {\n      method: \"delete\",\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n        'Authorization': this.state.apiKey,\n        'Tbapikey': this.state.apiKey\n      }\n    })\n    .then(response => response.json())\n    .then(function(data) {\n      if (!data.error) {\n        this_.showSnackbar(\"VIP status has been removed.\", \"success\");\n        this_.getUser(this_.state.userData.userDetails[0].api_key);\n      } else {\n        this_.showSnackbar(\"Error: \"+data.message, \"error\");\n      }\n    });\n  }\n\n  xwwwfurlenc(srcjson){\n    if(typeof srcjson !== \"object\")\n      if(typeof console !== \"undefined\"){\n        console.log(\"\\\"srcjson\\\" is not a JSON object\");\n        return null;\n      }\n    var u = encodeURIComponent;\n    var urljson = \"\";\n    var keys = Object.keys(srcjson);\n    for(var i=0; i <keys.length; i++){\n        urljson += u(keys[i]) + \"=\" + u(srcjson[keys[i]]);\n        if(i < (keys.length-1))urljson+=\"&\";\n    }\n    // console.log(urljson);\n    return urljson;\n  }\n\n  render() {\n    const { snackbarOpen, snackbarMessage, snackbarClass } = this.state;\n\n    if (!this.state.apiKey) {\n      return (\n        <center>\n          <Snackbar\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'center',\n            }}\n            open={snackbarOpen}\n            onClose={this.hideSnackbar}\n            message={snackbarMessage}\n            className={snackbarClass}\n          />\n          <img src=\"icon.png\" className=\"login-icon\" style={{margin: \"30px 0 10px\"}} />\n          <Typography variant=\"h4\" className=\"login-h4\" color=\"inherit\">\n            TrueBlue Merchant\n          </Typography>\n          <LoginForm login_handler={this.adminLogin} />\n        </center>\n      );\n    } else if (this.state.apiKey) {\n      if (this.state.clientData) {\n        return (\n          <div>\n            <Snackbar\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'center',\n              }}\n              open={snackbarOpen}\n              onClose={this.hideSnackbar}\n              message={snackbarMessage}\n              className={snackbarClass}\n            />\n            <ClientArea\n              data={this.state}\n              handleGetUser={this.getUser}\n              handleManualScan={this.handleManualScan}\n              handleManualClaim={this.handleManualClaim}\n              handleVIPadd={this.handleVIPadd}\n              handleVIPdelete={this.handleVIPdelete}\n              handleLogout={this.handleLogout}\n              getQR={this.getQR}\n            />\n          </div>\n        );\n      } else {\n        return (\n          <div>Loading...</div>\n        );\n      }\n    }\n  }\n}\n\nexport default App;\n","import React, {Component} from 'react';\n\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nconst styles = theme => ({\n  layout: {\n    width: 'auto',\n    display: 'block', // Fix IE11 issue.\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  paper: {\n    marginTop: theme.spacing.unit,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n  },\n  form: {\n    width: '100%', // Fix IE11 issue.\n    marginTop: theme.spacing.unit,\n  },\n  submit: {\n    marginTop: theme.spacing.unit * 3,\n  },\n});\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({[event.target.name]: event.target.value});\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.login_handler(this.state)\n  }\n\n  render() {\n    const {classes} = this.props;\n\n    return (\n      <div>\n        <CssBaseline />\n        <main className={classes.layout}>\n          <Paper className={classes.paper}>\n            <Typography component=\"h1\" variant=\"h5\">\n              Sign in\n            </Typography>\n            <form className={classes.form} onSubmit={this.handleSubmit}>\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"username\">Email Address or Username</InputLabel>\n                <Input\n                  id=\"username\"\n                  name=\"username\"\n                  autoComplete=\"email\"\n                  value={this.state.username}\n                  onChange={this.handleChange}\n                  autoFocus\n                />\n              </FormControl>\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"password\">Password</InputLabel>\n                <Input\n                  name=\"password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  value={this.state.password}\n                  onChange={this.handleChange}\n                />\n              </FormControl>\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                Sign in\n              </Button>\n            </form>\n          </Paper>\n        </main>\n      </div>\n    );\n  }\n}\n\nLoginForm.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(LoginForm);\n","import React, {Component} from 'react';\n\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nconst styles = theme => ({\n  vip: {\n    borderWidth: 2,\n    borderColor: '#000000',\n    borderRadius: 3,\n    borderStyle: 'solid',\n    padding: '2px 10px',\n    fontSize: 14,\n    display: 'block',\n    fontWeight: 'bold',\n    marginRight: 10,\n    background: \"#000000\",\n    color: '#FFFFFF'\n  },\n  flexBox: {\n    display: 'flex'\n  },\n  flexItem: {\n    flexGrow: 1,\n    textAlign: 'center'\n  },\n  marginSides: {\n    marginRight: theme.spacing.unit,\n    marginLeft: theme.spacing.unit,\n  },\n  cardWrapper: {\n    display: 'flex',\n    padding: theme.spacing.unit * 3,\n    flexWrap: 'wrap',\n  },\n  card: {\n    margin: theme.spacing.unit,\n    flexGrow: 1,\n    textAlign: 'center'\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    width: 200,\n    marginTop: theme.spacing.unit,\n    marginBottom: theme.spacing.unit,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  inputBase: {\n    width: '100%'\n  },\n  textField: {\n    '& input': {\n      textAlign: 'center',\n      fontSize: 36\n    }\n  },\n  button: {\n    margin: theme.spacing.unit,\n  },\n});\n\nclass UserArea extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addAmount: 0,\n      reward_id: \"\",\n      vip_id: \"\"\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.add = this.add.bind(this);\n    this.subtract = this.subtract.bind(this);\n    this.handleManualScan = this.handleManualScan.bind(this);\n    this.handleManualClaim = this.handleManualClaim.bind(this);\n    this.handleVIP = this.handleVIP.bind(this);\n    this.handleVIPadd = this.handleVIPadd.bind(this);\n    this.handleVIPdelete = this.handleVIPdelete.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.data && this.props.data.vip && this.props.data.vip[0]) {\n      this.setState({\n        vip_id: this.props.data.vip[0].id || null\n      });\n    }\n  }\n\n  componentDidUpdate() {\n  }\n\n  handleChange(event, name) {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  add() {\n    this.setState({ addAmount: this.state.addAmount+1 }, function() {\n      console.log(this.state);\n    });\n  }\n\n  subtract() {\n    this.setState({ addAmount: this.state.addAmount-1 }, function() {\n      console.log(this.state);\n    });\n  }\n\n  handleManualScan() {\n    const { data, token } = this.props;\n    const { addAmount } = this.state;\n\n    let scanData = {\n      user_id: data.userDetails[0].id,\n      amount: addAmount,\n      token: token\n    }\n\n    this.props.handleManualScan(scanData);\n    this.setState({\n      addAmount: 0\n    });\n  }\n\n  handleManualClaim() {\n    const { data, token } = this.props;\n    const { reward_id } = this.state;\n\n    let claimData = {\n      user_id: data.userDetails[0].id,\n      reward_id: reward_id,\n      token: token\n    }\n\n    this.props.handleManualClaim(claimData);\n    this.setState({\n      reward_id: \"\"\n    });\n  }\n\n  handleVIP() {\n    const { vip_id } = this.state;\n    if (vip_id === \"delete\") {\n      this.handleVIPdelete();\n    } else {\n      this.handleVIPadd();\n    }\n  }\n\n  handleVIPadd() {\n    const { data } = this.props;\n    const { vip_id } = this.state;\n\n    let vipData = {\n      user_id: data.userDetails[0].id,\n      vip_id: vip_id,\n    }\n\n    this.props.handleVIPadd(vipData);\n  }\n\n  handleVIPdelete() {\n    const { data } = this.props;\n    const { vip_id } = this.state;\n\n    this.props.handleVIPdelete(data.userDetails[0].id);\n  }\n\n  render() {\n    const { classes, data, clientData } = this.props;\n    const { addAmount, reward_id, vip_id } = this.state;\n    const timestamp = new Date(data.userDetails[0].created*1000);\n    const created = new Intl.DateTimeFormat('en-US', {year: 'numeric', month: 'short', day: 'numeric'}).format(timestamp);\n    console.log(clientData, clientData.locations);\n    return (\n      <div>\n        <AppBar position=\"static\" color=\"default\">\n          <Toolbar>\n            <Typography variant=\"h5\" className={classes.flexBox + \" \" + classes.flexItem}>\n              {data.vip[0] &&\n                <div className={classes.vip}>{data.vip[0].name}</div>\n              }\n              {data.userDetails[0].name}\n            </Typography>\n            <div className={classes.flexBox}>\n              <div className={classes.flexItem + \" \" + classes.marginSides}>\n                <Typography color=\"textSecondary\" variant=\"caption\">\n                  Joined\n                </Typography>\n                <Typography gutterBottom component=\"p\">\n                  {created}\n                </Typography>\n              </div>\n              <div className={classes.flexItem + \" \" + classes.marginSides}>\n                <Typography color=\"textSecondary\" variant=\"caption\">\n                  Total points earned\n                </Typography>\n                <Typography gutterBottom component=\"p\">\n                  {data.userDetails[0].points}\n                </Typography>\n              </div>\n              <div className={classes.flexItem + \" \" + classes.marginSides}>\n                <Typography color=\"textSecondary\" variant=\"caption\">\n                  Total rewards redeemed\n                </Typography>\n                <Typography component=\"p\">\n                  {data.userDetails[0].redeemed_count}\n                </Typography>\n              </div>\n            </div>\n          </Toolbar>\n        </AppBar>\n\n        <div className={classes.cardWrapper}>\n          <Card className={classes.card}>\n            <div className={classes.details}>\n              <CardContent className={classes.content}>\n                <Typography variant=\"subtitle1\">\n                  Current Points\n                </Typography>\n                <Typography component=\"h5\" variant=\"h5\">\n                  {data.userDetails[0].current_points}\n                </Typography>\n                <div className={classes.controls}>\n                  <IconButton onClick={this.subtract}>\n                    <i className=\"fas fa-minus\"></i>\n                  </IconButton>\n                  <TextField\n                    id=\"standard-number\"\n                    value={addAmount}\n                    onChange={(e) => this.handleChange(e, 'addAmount')}\n                    type=\"number\"\n                    className={classes.textField}\n                    margin=\"normal\"\n                  />\n                  <IconButton onClick={this.add}>\n                    <i className=\"fas fa-plus\"></i>\n                  </IconButton>\n                </div>\n                <Button variant=\"contained\" disabled={!addAmount} color=\"primary\" className={classes.button} onClick={this.handleManualScan}>\n                  Add Points\n                </Button>\n              </CardContent>\n            </div>\n          </Card>\n          {data.clientRewards && data.clientRewards.length &&\n            <Card className={classes.card}>\n              <div className={classes.details}>\n                <CardContent className={classes.content}>\n                  <Typography variant=\"subtitle1\">\n                    Claim Rewards\n                  </Typography>\n                  <FormControl className={classes.controls}>\n                    <InputLabel htmlFor=\"reward_id\">Reward</InputLabel>\n                    <Select\n                      value={reward_id}\n                      onChange={(e) => this.handleChange(e, 'reward_id')}\n                      inputProps={{\n                        name: 'reward_id',\n                        id: 'reward_id',\n                      }}\n                      className={classes.inputBase}\n                    >\n                      <MenuItem value=\"\">\n                        <em>None</em>\n                      </MenuItem>\n                      {data.clientRewards.map(reward => (\n                        <MenuItem value={reward.id} key={reward.id}>\n                          <span dangerouslySetInnerHTML={{__html: reward.reward_name + \" (\"+reward.reward_points+\" points)\"}} />\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                  <Button variant=\"contained\" disabled={!reward_id} color=\"primary\" className={classes.button} onClick={this.handleManualClaim}>\n                    Claim this Reward\n                  </Button>\n                </CardContent>\n              </div>\n            </Card>\n          }\n          {clientData && clientData.vips && clientData.vips.length &&\n            <Card className={classes.card}>\n              <div className={classes.details}>\n                <CardContent className={classes.content}>\n                  <Typography variant=\"subtitle1\">\n                    VIP Status\n                  </Typography>\n                  <FormControl className={classes.controls}>\n                    <InputLabel htmlFor=\"vip_id\">VIP Levels</InputLabel>\n                    <Select\n                      value={vip_id}\n                      onChange={(e) => this.handleChange(e, 'vip_id')}\n                      inputProps={{\n                        name: 'vip_id',\n                        id: 'vip_id',\n                      }}\n                      className={classes.inputBase}\n                    >\n                      <MenuItem value=\"\">\n                        <em>None</em>\n                      </MenuItem>\n                      <MenuItem value=\"delete\">\n                        <em>Remove VIP Status</em>\n                      </MenuItem>\n                      {clientData.vips.map(vip => (\n                        <MenuItem value={vip.id} key={vip.id}>\n                          <span dangerouslySetInnerHTML={{__html: vip.name + \" (\"+vip.discount+\"% discount)\"}} />\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                  <Button variant=\"contained\" disabled={data.vip && data.vip[0] && data.vip[0].id == vip_id} color=\"primary\" className={classes.button} onClick={this.handleVIP}>\n                    Update VIP Status\n                  </Button>\n                </CardContent>\n              </div>\n            </Card>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nUserArea.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(UserArea);\n","import React, {Component} from 'react';\nimport QRCode from 'qrcode-react';\n\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Paper from '@material-ui/core/Paper';\n\nconst styles = theme => ({\n  qrWrapper: {\n    padding: 20,\n    textAlign: 'center',\n    margin: 20,\n    '& canvas': {\n      width: '50% !important',\n      height: 'auto !important',\n      minWidth: 240,\n      maxWidth: 400\n    }\n  }\n});\n\nclass PointsArea extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      quantity: 1,\n      location_token: null,\n      unique: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      location_token: this.props.location.location_token\n    }, function() {\n      this.props.getQR(this.state);\n    });\n  }\n\n  componentDidUpdate() {\n  }\n\n  render() {\n    const { classes, data, location } = this.props;\n    const { quantity } = this.state;\n    const downloadQRBase = \"http://trueblue.guru/redirect.php?id=\"+data.clientData.id+\"&e=\";\n\n    if (data.displayQR) {\n      return (\n        <div>\n          <Paper title={downloadQRBase+data.displayQR.code} className={classes.qrWrapper}>\n            <Typography color=\"textSecondary\" variant=\"h6\">\n              {quantity} Point(s)\n            </Typography>\n            <QRCode\n              value={downloadQRBase+data.displayQR.code}\n              size={400}\n              logo={data.clientData.client_icon}\n            />\n          </Paper>\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          Loading QR Code...\n        </div>\n      );\n    }\n  }\n}\n\nPointsArea.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(PointsArea);\n","import React, {Component} from 'react';\nimport QRCode from 'qrcode-react';\n\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Paper from '@material-ui/core/Paper';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nconst styles = theme => ({\n  qrWrapper: {\n    padding: 20,\n    textAlign: 'center',\n    margin: 20,\n    '& canvas': {\n      width: '50% !important',\n      height: 'auto !important',\n      minWidth: 240,\n      maxWidth: 400\n    }\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: 400,\n    marginTop: theme.spacing.unit,\n    marginBottom: theme.spacing.unit,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  inputBase: {\n    width: '100%'\n  },\n});\n\nclass RewardsArea extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      quantity: 1,\n      location_token: null,\n      reward_id: \"\",\n      reward_name: null,\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      location_token: this.props.location.location_token\n    }, function() {\n      if (this.props.data.rewardData && this.props.data.rewardData.length === 1) {\n        this.setState({\n          reward_id: this.props.data.rewardData[0].id,\n          reward_name: this.props.data.rewardData[0].reward_name\n        }, function() {\n          this.props.getQR(this.state);\n        });\n      }\n    });\n  }\n\n  componentDidUpdate() {\n  }\n\n  handleChange(event, name) {\n    this.setState({\n      [name]: event.target.value,\n    }, function() {\n      this.props.getQR(this.state);\n    });\n  };\n\n  render() {\n    const { classes, data, location } = this.props;\n    const { reward_id, reward_name } = this.state;\n\n    if (data.rewardData) {\n      return (\n        <div>\n          <Paper title={(data.displayQR) ? data.displayQR.code : \"\"} className={classes.qrWrapper}>\n              {(data.rewardData && data.rewardData.length > 1) ?\n                <FormControl className={classes.controls}>\n                  <InputLabel htmlFor=\"reward_id\">Reward</InputLabel>\n                  <Select\n                    value={reward_id}\n                    onChange={(e) => this.handleChange(e, 'reward_id')}\n                    inputProps={{\n                      name: 'reward_id',\n                      id: 'reward_id',\n                    }}\n                    className={classes.inputBase}\n                  >\n                    <MenuItem value=\"\">\n                      <em>None</em>\n                    </MenuItem>\n                    {data.rewardData.map(reward => (\n                      <MenuItem value={reward.id} key={reward.id}>\n                        <span dangerouslySetInnerHTML={{__html: reward.reward_name + \" (\"+reward.reward_points+\" points)\"}} />\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              :\n                <Typography color=\"textSecondary\" variant=\"h6\">\n                  {reward_name}\n                </Typography>\n              }\n            {data.displayQR &&\n              <QRCode\n                value={data.displayQR.code}\n                size={400}\n                logo={data.clientData.client_icon}\n              />\n            }\n          </Paper>\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          Loading QR Code...\n        </div>\n      );\n    }\n  }\n}\n\nRewardsArea.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(RewardsArea);\n","import React, {Component} from 'react';\n\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nconst styles = theme => ({\n});\n\nclass OrdersArea extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  componentDidMount() {\n  }\n\n  componentDidUpdate() {\n  }\n\n  render() {\n    const { classes, location } = this.props;\n\n    return (\n      <div>\n        Orders Area\n      </div>\n    );\n  }\n}\n\nOrdersArea.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(OrdersArea);\n","import React, {Component} from 'react';\nimport QrReader from \"react-qr-reader\";\n\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ButtonBase from '@material-ui/core/ButtonBase';\n\nimport UserArea from './UserArea';\nimport PointsArea from './PointsArea';\nimport RewardsArea from './RewardsArea';\nimport OrdersArea from './OrdersArea';\n\nconst styles = theme => ({\n  formControl: {\n    margin: theme.spacing.unit,\n    flexGrow: 1,\n    color: '#FFF'\n  },\n  instructions: {\n    background: '#333 !important',\n    color: '#FFF',\n    height: 10,\n    fontSize: 14,\n    opacity: 1\n  },\n  leftBar: {\n    flexGrow: 1\n  },\n  qrScanner: {\n    width: '100%',\n    '& section': {\n      paddingTop: 'calc(100vh - 60px) !important'\n    }\n  },\n  fullscreen: {\n    height: 'calc(100vh - 60px) !important',\n    textAlign: 'center'\n  },\n  focusVisible: {},\n  largeIcon: {\n    padding: '20px 0',\n    '& .fa-lg': {\n      fontSize: 50,\n    }\n  },\n  buttonBase: {\n    verticalAlign: 'top',\n    display: 'inline-block',\n    width: 200,\n    '& i': {\n      padding: '10px auto'\n    }\n  },\n  selectedButton: {\n    background: 'rgba(0,0,0,0.5)'\n  },\n  page: {\n    minHeight: 'calc(100vh - 64px)',\n    boxSizing: 'border-box'\n  }\n});\n\nconst ITEM_HEIGHT = 48;\n\nconst initialState = {\n  locationsOpen: false,\n  selectedLocation: \"\",\n  userApiKey: null,\n  showArea: \"\",\n};\n\nclass ClientArea extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleOpen = this.handleOpen.bind(this);\n    this.clearLocation = this.clearLocation.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.handleScan = this.handleScan.bind(this);\n    this.showThisArea = this.showThisArea.bind(this);\n  }\n\n  componentWillMount() {\n    if (localStorage.getItem('selectedLocation')) {\n      this.setState({ selectedLocation: parseInt(localStorage.getItem('selectedLocation')) });\n    } else if (this.props.data.clientData.locations) {\n      if (this.props.data.clientData.locations.length === 1) {\n        localStorage.setItem('selectedLocation', this.props.data.clientData.locations[0].id);\n        this.setState({\n          selectedLocation: parseInt(this.props.data.clientData.locations[0].id)\n        })\n      } else {\n        this.setState({\n          locationsOpen: true\n        })\n      }\n    }\n  }\n\n  handleChange(event) {\n    this.setState({ [event.target.name]: event.target.value }, function() {\n      if (event.target.name === \"selectedLocation\") {\n        localStorage.setItem('selectedLocation', event.target.value);\n      }\n    });\n  };\n\n  handleClose() {\n    this.setState({ locationsOpen: false });\n  };\n\n  handleOpen() {\n    this.setState({ locationsOpen: true });\n  };\n\n  clearLocation() {\n    this.setState({ selectedLocation: \"\" });\n  }\n\n  handleLogout() {\n    this.setState(initialState, function() {\n      this.props.handleLogout();\n    })\n  }\n\n  showThisArea(area) {\n    this.props.getQR(\"clear\");\n    // if (area === \"qrScanner\") {\n    //   this.setState({ userApiKey: \"bee7c292dfbd275df48576c14464974e\" }, function() {\n    //     this.props.handleGetUser(this.state.userApiKey)\n    //   });\n    // } else\n    if (this.state.showArea !== area) {\n      this.setState({ showArea: area });\n    } else {\n      this.setState({ showArea: \"\" });\n    }\n  }\n\n  handleScan(data) {\n    if (data) {\n      this.setState({\n        showArea: \"\",\n        userApiKey: data\n      }, function() {\n        this.props.handleGetUser(this.state.userApiKey)\n      });\n    }\n  }\n\n  handleError(err) {\n    console.error(err);\n  }\n\n  render() {\n    const { classes, data, getQR } = this.props;\n    const { locationsOpen, selectedLocation, showArea } = this.state;\n    const locationObj = (selectedLocation !== \"\") ? data.clientData.locations.filter(function(location) { return location.id === selectedLocation; }) : null;\n    const scanUserQR = (data.clientData && data.clientData.client_mode === \"merchant\");\n    const seeOrders = (locationObj && locationObj[0] && locationObj[0].cart_email);\n    const scanRewardQR = (!scanUserQR && data.rewardData && data.rewardData.length);\n    const merchantPage = (data.merchantPageData && data.merchantPageData[0]) ? true : false;\n    const alwaysShowMerchantPage = (data.merchantPageData && data.merchantPageData[0] && ((data.merchantPageData[0].icon).includes('left') || (data.merchantPageData[0].icon).includes('right'))) ? true : false;\n    let actuallyShowThisArea = (data.userData) ? \"userArea\" : showArea;\n    actuallyShowThisArea = (alwaysShowMerchantPage && !actuallyShowThisArea) ? \"pointsQR\" : actuallyShowThisArea;\n\n    return (\n      <div>\n        {data.clientData.client_css && <style>{data.clientData.client_css}</style>}\n        {(!selectedLocation || locationObj.length === 0) && data.clientData.locations && data.clientData.locations.length > 1 &&\n          <AppBar position=\"static\" color=\"primary\" className=\"appBar\">\n            <Toolbar>\n              <FormControl className={classes.formControl}>\n                <InputLabel htmlFor=\"location-select\">Select a location</InputLabel>\n                <Select\n                  open={locationsOpen}\n                  onClose={this.handleClose}\n                  onOpen={this.handleOpen}\n                  value={selectedLocation}\n                  onChange={this.handleChange}\n                  inputProps={{\n                    name: 'selectedLocation',\n                    id: 'location-select',\n                  }}\n                >\n                  <MenuItem className={classes.instructions} value=\"\" disabled={true}>Select a location:</MenuItem>\n                  {data.clientData.locations.map(loc => (\n                    <MenuItem value={loc.id} key={loc.id}>\n                      <span dangerouslySetInnerHTML={{__html: loc.location_name}} />\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n              <Tooltip title=\"Logout\">\n                <IconButton color=\"inherit\" aria-label=\"Logout\" onClick={this.handleLogout}>\n                  <i className=\"fas fa-sign-out\"></i>\n                </IconButton>\n              </Tooltip>\n            </Toolbar>\n          </AppBar>\n        }\n        {selectedLocation && locationObj[0] &&\n          <AppBar position=\"static\" color=\"primary\" className=\"appBar\">\n            <Toolbar>\n              <Typography variant=\"h5\" color=\"inherit\" className={classes.leftBar}>\n                <span dangerouslySetInnerHTML={{__html: locationObj[0].location_name}} />\n              </Typography>\n              {scanUserQR &&\n                <Tooltip title=\"Scan a User QR Code\">\n                  <IconButton className={(actuallyShowThisArea === \"qrScanner\" || actuallyShowThisArea === \"userArea\") ? classes.selectedButton : \"\"} color=\"inherit\" aria-label=\"Scan a User QR Code\" onClick={(e) => this.showThisArea(\"qrScanner\")}>\n                    <i className=\"fas fa-user\"></i>\n                  </IconButton>\n                </Tooltip>\n              }\n              {!scanUserQR &&\n                <Tooltip title=\"Show Point QR Code\">\n                  <IconButton className={(actuallyShowThisArea === \"pointsQR\") ? classes.selectedButton : \"\"} color=\"inherit\" aria-label=\"Show Point QR Code\" onClick={(e) => this.showThisArea(\"pointsQR\")}>\n                    <i className=\"fas fa-coins\"></i>\n                  </IconButton>\n                </Tooltip>\n              }\n              {scanRewardQR &&\n                <Tooltip title=\"Show Reward QR Code\">\n                  <IconButton className={(actuallyShowThisArea === \"rewardsQR\") ? classes.selectedButton : \"\"} color=\"inherit\" aria-label=\"Show Reward QR Code\" onClick={(e) => this.showThisArea(\"rewardsQR\")}>\n                    <i className=\"fas fa-stars\"></i>\n                  </IconButton>\n                </Tooltip>\n              }\n              {seeOrders &&\n                <Tooltip title=\"Orders\">\n                  <IconButton className={(actuallyShowThisArea === \"ordersArea\") ? classes.selectedButton : \"\"} color=\"inherit\" aria-label=\"Orders\" onClick={(e) => this.showThisArea(\"ordersArea\")}>\n                    <i className=\"fas fa-receipt\"></i>\n                  </IconButton>\n                </Tooltip>\n              }\n              {data.clientData.locations && data.clientData.locations.length > 1 &&\n                <Tooltip title=\"Select a new location\">\n                  <IconButton color=\"inherit\" aria-label=\"Select a new location\" onClick={this.clearLocation}>\n                    <i className=\"fas fa-building\"></i>\n                  </IconButton>\n                </Tooltip>\n              }\n              <Tooltip title=\"Logout\">\n                <IconButton color=\"inherit\" aria-label=\"Logout\" onClick={this.handleLogout}>\n                  <i className=\"fas fa-sign-out\"></i>\n                </IconButton>\n              </Tooltip>\n            </Toolbar>\n          </AppBar>\n        }\n        {(actuallyShowThisArea === \"\" || alwaysShowMerchantPage) && !merchantPage &&\n          <div className={classes.fullscreen}>\n            <div className=\"verticallyCenter\">\n              {scanUserQR &&\n                <ButtonBase\n                  focusRipple\n                  focusVisibleClassName={classes.focusVisible}\n                  onClick={(e) => this.showThisArea(\"qrScanner\")}\n                  className={classes.buttonBase}\n                >\n                  <div className={classes.largeIcon}><i className=\"fas fa-user fa-lg\"></i></div>\n                  <Typography variant=\"h6\" color=\"inherit\">\n                    Show User QR Code\n                  </Typography>\n                </ButtonBase>\n              }\n              {!scanUserQR &&\n                <ButtonBase\n                  focusRipple\n                  focusVisibleClassName={classes.focusVisible}\n                  onClick={(e) => this.showThisArea(\"pointsQR\")}\n                  className={classes.buttonBase}\n                >\n                  <div className={classes.largeIcon}><i className=\"fas fa-coins fa-lg\"></i></div>\n                  <Typography variant=\"h6\" color=\"inherit\">\n                    Point QR Code\n                  </Typography>\n                </ButtonBase>\n              }\n              {scanRewardQR &&\n                <ButtonBase\n                  focusRipple\n                  focusVisibleClassName={classes.focusVisible}\n                  onClick={(e) => this.showThisArea(\"rewardsQR\")}\n                  className={classes.buttonBase}\n                >\n                  <div className={classes.largeIcon}><i className=\"fas fa-stars fa-lg\"></i></div>\n                  <Typography variant=\"h6\" color=\"inherit\">\n                    Reward QR Code\n                  </Typography>\n                </ButtonBase>\n              }\n              {seeOrders &&\n                <ButtonBase\n                  focusRipple\n                  focusVisibleClassName={classes.focusVisible}\n                  onClick={(e) => this.showThisArea(\"ordersArea\")}\n                  className={classes.buttonBase}\n                >\n                  <div className={classes.largeIcon}><i className=\"fas fa-receipt fa-lg\"></i></div>\n                  <Typography variant=\"h6\" color=\"inherit\">\n                    Orders\n                  </Typography>\n                </ButtonBase>\n              }\n            </div>\n          </div>\n        }\n        {(actuallyShowThisArea === \"\" || alwaysShowMerchantPage) && merchantPage &&\n          <div className={data.merchantPageData[0].icon}>\n            {data.merchantPageData[0].css &&\n              <style>{data.merchantPageData[0].css}</style>\n            }\n            <div className={classes.page + \" \" + \"page\"} dangerouslySetInnerHTML={{__html: data.merchantPageData[0].content}}></div>\n          </div>\n        }\n        {actuallyShowThisArea === \"qrScanner\" && locationObj &&\n          <QrReader\n            delay={this.state.delay}\n            onError={this.handleError}\n            onScan={this.handleScan}\n            className={classes.qrScanner}\n          />\n        }\n        {actuallyShowThisArea === \"pointsQR\" && locationObj &&\n          <PointsArea\n            data={data}\n            location={locationObj[0]}\n            getQR={getQR}\n          />\n        }\n        {actuallyShowThisArea === \"rewardsQR\" && locationObj &&\n          <RewardsArea\n            data={data}\n            location={locationObj[0]}\n            getQR={getQR}\n          />\n        }\n        {actuallyShowThisArea === \"ordersArea\" && locationObj &&\n          <OrdersArea\n            data={data}\n            location={locationObj[0]}\n          />\n        }\n        {actuallyShowThisArea === \"userArea\" && locationObj &&\n          <UserArea\n            data={data.userData}\n            clientData={data.clientData}\n            token={locationObj[0].location_token}\n            handleManualScan={this.props.handleManualScan}\n            handleManualClaim={this.props.handleManualClaim}\n            handleVIPadd={this.props.handleVIPadd}\n            handleVIPdelete={this.props.handleVIPdelete}\n          />\n        }\n      </div>\n    );\n  }\n}\n\nClientArea.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ClientArea);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nconst startApp = () => {\n  ReactDOM.render(<App />, document.getElementById('root'));\n  // registerServiceWorker();\n};\n\nif(window.cordova) {\n  document.addEventListener('deviceready', startApp, false);\n} else {\n  startApp();\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}